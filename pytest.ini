# üöÄ Nextvision V3.0 - Configuration PyTest - Tests Int√©gration
# ==============================================================

[tool:pytest]
# R√©pertoires de tests
testpaths = tests

# Patterns de d√©couverte
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Options par d√©faut
addopts = 
    -v
    --tb=short
    --strict-markers
    --disable-warnings
    --color=yes
    --durations=10
    --asyncio-mode=auto

# Marqueurs personnalis√©s
markers =
    unit: Tests unitaires scorers individuels
    integration: Tests d'int√©gration syst√®me complet
    performance: Tests de performance <175ms
    compatibility: Tests compatibilit√© V2.0 ‚Üî V3.0
    fallback: Tests gestion erreurs et fallback
    slow: Tests lents (>5s)
    
# Configuration asyncio
asyncio_mode = auto

# Filtres warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning:nextvision.*

# Couverture de code (si pytest-cov install√©)
# --cov=nextvision.services.enhanced_bidirectional_scorer_v3
# --cov=nextvision.services.scorers_v3
# --cov-report=html
# --cov-report=term-missing
# --cov-fail-under=80

# Timeout tests (si pytest-timeout install√©)
timeout = 30
timeout_method = thread

# Configuration parall√®le (si pytest-xdist install√©)
# -n auto

# Variables d'environnement pour tests
env = 
    NEXTVISION_ENV = test
    NEXTVISION_DEBUG = false
    NEXTVISION_CACHE_ENABLED = true
